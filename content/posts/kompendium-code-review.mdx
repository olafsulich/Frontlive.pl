---
title: 'Kompendium Code Review - dobre praktyki oceniania kodu'
category: 'Praca'
publishedAt: '16-06-2022'
isPublished: false
popular: false
image: '/images/kompendium-code-review/thumbnail.png'
excerpt: 'Jak ocenia i przyjmowa feedback odnonie kodu? Oto zote zasady Code Review - jednego z najwa偶niejszych proces贸w podczas tworzenia projekt贸w komercyjnych.'
---

Jak ocenia i przyjmowa feedback odnonie kodu? Oto zote zasady Code Review - jednego z najwa偶niejszych proces贸w podczas tworzenia projekt贸w komercyjnych.

Proces oceniania kodu nieustanie ewoluuje, nie jest stay i nie da siwskaza idealnie przeprowadzonego review. Dlatego zapytaem **kilkudziesiciu programist贸w** o to, jakimi zasadami warto sikierowac. Dorzuciem wasne spostrzenia i oto tak powstao wielkie **Kompendium Code Review**.

Ten artyku, tak jak wszystkie na tym blogu, jest Open Source - serdecznie zachcam do [dodawania wasnych zotych rad](https://github.com/olafsulich/Frontlive.pl/tree/main/content/posts/kompendium-code-review.mdx). Razem stw贸rzmy miejsce, kt贸re pomo偶e wielu programistom lepiej otrzymywai dawa feedback odnonie kodu.

## Wprowadzenie

Code Review to proces, w kt贸rym jeden lub wicej programist贸w ocenia Twoje zmiany do istniejcej bazy kodu.

Zmian mo偶e by nowa funkcjonalno w systemie, usprawnienia architketury, czy narzdzi.

Proces oceniania kodu niesie za sob wiele benefit贸w:

1. **Zwikszenie jakoci oprogramowania i wyapywanie bd贸w**

   Podczas tworzenia kodu czsto nie dostrzegamy miejsc, w kt贸rych popenilimy bd, czy moglimy zrobi co lepiej. Inny Developer ma r贸wnie偶 odmienne spojrzenie na kod, z chodn gow mo偶e podej do wprowadzanych zmian i wypunktowa miejsca, kt贸re mo偶na by usprawni.

2. **Dzielenie siwiedz**

   Ocenianie kodu to wiety spos贸b na rozw贸j naszych umiejtnoci, zar贸wno z perspektywy oceniajcego, jak przyjmujcego feedback. Ka偶dy z nas dysponuje innym zestawem dowiadcze, kt贸ry podczas code review jest niezwykle istotny. Bardzo czsto, podczas recenzji danej zmiany, powstaj ciekawe dyskusje, z kt贸rych mo偶emy wynie bardzo wiele. Oceniajc czyikod pozajemy bardziej domen zmiany, co i w parze z lepszych zrozumieniem caoci naszej aplikacji.

3. **Zwikszanie wiadomoci sytemu**

   Code Review to idealny proces nie tylko dla dowiadczonych programist贸w w projekcie, ale r贸wnie偶 dla tych pocztkujcych. Projekt dla nowych programist贸w w zespole jest jak piaskownicac pena tajemnic. Dziki ocenianiu kodu szybciej poznamy nasz codebase.

## Pull Request

Wszystko zaczyna si od **Pull Requesta**. To narzdzie, kt贸re pozwala innym programistom zobaczyjakie zmiany wprowadzmy. S one podstawdobrego Code Review.

Traktujmy nasze PR'ki jako wizyt贸wki wprowadzanych zmian. Ka偶da taka wiztyt贸wka powinna mie wyszczeg贸lniony opis i cel zmieniania obecnej bazy kodu. Pom贸偶my oceniajcemu jak najlepiej zrozumie to, nad czym pracowalimy.

Jeli Tw贸j zespo korzysta z dedykowanego narzdzia do zarzdzania projektem i zadaniami (Jira/Asana/Clickup), to w Pull Requescie warto umiecilink do stworzonego wczeniej zadania. Twoje zmianu dotykaj UI? Prawdopodobnie warto umieciscreenshoty - dziki temu mamy lepszy obraz tego, co oceniamy.

W przypadku Pull Request贸w rozmiar ma znaczenie, serio. Im mniej wprowadzanych zmian na raz, tym lepiej. Majc przed sob 10 linijek kodu, ka偶dej powicimy uwag, nie mo偶na tego powiedzie, gdy oceniamy PR z 1000 zmienionych linii. Jeli Tw贸j zesp贸 mam problem ze zbyt du偶ymi Pull Requestami, warto ustaligranicrozmiaru. Nie musimy od razu podpisywacyrografu z diabem na ilowprowadzanych zmian, ale jeli problem wystpuje, warto o nim porozmawia.

## Zacznij od siebie

Pierwszym recenzentem Twojego kodu, powiniene byTy sam. Najgorsz rzecz, jak mo偶emy zrobi jest nieprzejrzenie wczeniej stworzonego przez nas kodu. Szanujmy sw贸j czas.

Podczas pracy debuggujemy, zakomentowujemy, przenosimy kawaki kodu. Nie ma nic w tym zego, dop贸ki takie smrodki nie wychodz na wiato dzienne. Nie marunujmy czasu recenzenta na wypominanie nam o nieusunity `console.log()`.

Traktujmy nasz zmiany jak referaty w podstaw贸wce. W brudnopisie mo偶emy robico nam si偶ywnie podoba - skrela, bazgrai rysowa szlaczki. Jednak finalna wersja naszej pracy powinna by jak najlepsza, bez zbdnego chaosu.

## Nikt gorszy, nikt lepszy

Code Review to proces, kt贸ry nie powinien dyskredytowaprogramist贸w ze wzgldu na umiejtnoci, czy dowiadczenie w projekcie. Kropka.

Dzielenie si wiedz nie przebiega jedynie od Senior do Juniora. Mniej dowiadzczeni programici nie tylko mog zdobywa wiedz, ale r贸wnie偶 si nidzieli, nawet z du偶o bardziej dowiadczonymi programistami.

- **Jeli jeste Juniorem:** nie b贸j siocenia kodu bardziej dowiadczonym programistom. Oni nie s Alfami i Omegami, ka偶dy z nich popenia bdy. Nie do, 偶e podczas oceny kodu mo偶esz siwiele od nich nauczy, to mo偶esz przekaza r贸wnie偶 swoje dowiadczenia, kt贸re s niezwykle cenne.

- **Jeli jeste Seniorem:** oceniaj kod mniej dowiadczonych programist贸w. Dziel si swoim dowiadczeniemi i pomagaj zrozumie zmiany. Schowaj ego do kieszeni, przyjmuj krytyk od mniej dowiadczonych programist贸w. Nie bd藕 _Rockstar Senior Developerem_, kt贸rego nikt nie lubi :)

## Czy rozumiem dany kod?

Jednym z [g贸wynych cel贸w](https://frontlive.pl/blog/kompendium-code-review/#wprowadzenie) Code Review jest lepsze zrozumienie systemu, w kt贸rym pracujemy. Jeli oceniajc kod, nie rozumiesz jego przeznaczenia, tracisz jeden z benefit贸w.

Czego nie rozumiesz? Dopytuj, dopytuj i jeszcze raz dopytuj, serio. Nie ma nic zego w niewiedzy. Nie wiesz co robi dany kod, albo dlaczego co zostao zrobione w ten spos贸b, a nie inny? Popro autora kodu o wyjanienie, jeli bdzie mia on odpowiednie nastawienie, na pewno z chci wytumaczy Ci dlaczego tak podszed do rozwizania problemu.

W takich sytuacjach czsto uczymy sipodejcia drugiej osoby, rozumiemy lepiej istotzmian - z dopytywania wynikajsame dobre rzeczy. A jeli autor kodu potraktuj Twoje pytanie jako "atak", podelij mu ten artyku, musi nadrobi wiele zalogoci :)

## Jak formuowa poprawki?

Formuowanie proprawek to zdecydowanie najci偶sza rzecz w caym procesie. Ka偶dy z nas chce sidobrze czu w projektach, w kt贸rych pracujemy. Code Review tak jak mogbardzo usprawni proces wytwarzania oprogramowania, tak mog r贸wnie偶 zniechca innych do dalszej pracy. Aby unikn takich sytuacji, warto kierowasikilkoma zasadami:

1. **Zrozumienie**

   Postaraj sijak najbardziej zrozumie drugosob. Bd藕 miy. Ka偶dy z nas jest inny, ka偶dy odbiera krytykw inny spos贸b. Kluczem do waciwej recenzji jest poznanie perspektywy innego programisty. Mo偶e jest on nowy w projekcie i nie rozumie pewnych zasad, kt贸rymi sikierujecie? Mo偶e ta osoba nie jest najlepsza w danym zagadnieniu / technologii? Wejd藕 w sk贸r drugiej osoby, oceniaj kod tak, jak chciaby, 偶eby kto ocenia Twoj prac.

2. **Brak rozczeniowoci i odpowiedni ton**

   Inaczej bdziesz ocenia kod nowego w projekcie Juniora, a inaczej kod swojego kolegi z zespou, z kt贸rym pracujesz kilka lat. Dostosuj si do osoby, kt贸ra wystawia sw贸j kod do oceny. Nie bd藕 sdzi, kt贸ry wymierza kar. Postaw siw roli osoby, kt贸ra wyciga rk, chce pom贸c, a nie skrytykowa dane rozwizanie.

3. **Zadawaj pytania**

   Dobrtechnikformuowania poprawek jest zadanie pyta i wchodzenie w dyskuj. Nie pisz `Masz zmieni to i to, to jest 藕le`. Zadawaj pytania - `Uwa偶am, 偶e lepiej by byo jakby zrobi to tak, bo... Co mylisz?`. Taka formua jest znacznie mniej inwazyjna, pozwala zrozumie drugiej osobie sw贸j bd. Dziki temu nie stajemy siwielkim dyktatorem, sdzi czystego kodu, a koleg z zespou, kt贸ry pomaga usprawni NASZ kod w projekcie.

4. **Operuj na konkretach**

   Upewnij si, 偶e druga osoba rozumie co starasz si przekaza. Bd藕 konkretny.

<Newsletter />

## Przyjmowanie krytyki

Perspektywa osoby, kt贸ra wystawia na wiat swoj praci przyjmujkrytykjest nieco bardzie bolesna. Aby nasze Code Review byo skuteczne, obie strony barykady musz mie waciwe podejcie.

**Nie jesteswoim kodem**. Nie bierz do siebie merytorycznej krytyki kodu, to tylko zbi贸r gupich literek. Nie definiuje Ciebie jako czowieka, ani Twoich umiejtnoci. Moge czego nie zauwa偶y, moge mie gorszy dzie. Ka偶dy popenia bdy, nawet ci najlepsi.

Traktuj kod jako osoby byt, spr贸buj oddzieli emocje od wynik贸w swojej pracy. Jeli ktoproponuje Ci lepsze rozwizanie, nie brnij na si w to, co ju偶 zrobie. Bd藕 otwarty na poprawki i zdobywanie wiedzy. Jeli nie rozumiesz krytyki, dopytuj, staraj sizrozumie i znale藕 najelpsze rozwizanie.

## Nie tylko krytyka

Code Review to nie tylko proces, kt贸ry polega na wytkniciu bd贸w we wprowadzanych zmianach. Doceniajmy swoj praci zaanga偶owanie. Widzisz, 偶e kto zrobi dobr robot? Powiedz mu to!

## Rozwizywanie konflikt贸w

Nawet jeli bdziemy stosowa sido powy偶szych zao偶e, to nadal jestemy tylko lud藕mi - mog pojawisizgrzyty. Co w takich sytuacjach robi?

Pierwsze i najwa偶niejsze, postaraj sijak najbardziej zrozumie drug osob. Co kieruje innym programist, czy na pewno zrozumia on Twoje intencje?

Bd藕 konkretny, sprawdz, 偶eby ocena kodu bya rzetelna. Popieraj swoje dodatkowymi 藕r贸dami, staraj siwytumaczy istotproponowanych zmian, dlaczego warto usprawnidany kawaek kodu.

A co jeli nadal nie mo偶ecie znale藕zotego rodka? Warto w takich sytuacjach przenie "konflikt" na wiato dzienne. Wczcie innych programist贸w w proces decyzji. Spotkajcie si, wymiecie opiniami na dany temat, wsp贸lnie podejmijcie decyzj.

## Dostosuj odpowiedniform

W przypadku wikszych usprawnie, forma pisemna mo偶e okaza sinieoptymalna. Wymienianie siasynchronicznie komentarzami mo偶e przecigna znaczco cay proces.

Wtedy wedug mnie warto przenie rozmowna inn form. W obecnych czasach, gdzie du偶a czz nas pracuje zdalnie, warto powicikilkanacie minut na zdzwonienie si. Taki spos贸b czsto okazuje sibybardziej efektywny. Szybciej mo偶emy zrozumie, co druga strona miaa na myli, mamy natychmiastowy feedback.

## Nie skupiaj si na pierdoach

Automatyzacja formatowania / lintowania

## Sp贸jno z resztprojektu

Zwracanie uwagi na przyjte guidelinesy

## Zgno z wymaganiami

Czy zmiany s zgodne z wymaganiami / designem?

## Nie wszystko na raz

Czasem nie trzeba wprowadza wszystkim zmian w tym samym PR

Ja zaczn od dupy strony. 呕eby uatwi CR warto zastosowa narzdzia typu pre-commit i dobrze ustawione QA CI, 偶eby code review nie musiao obejmowa kwestii zwizanych z formatowaniem, nazewnictwem itp
Wtedy CR dotyczy odpowiedniego zakodowania logiki, a nie dyskusji o formatowaniu kodu

Dawac wedke nie rybke

Formulowanie pytan jako poprawek

Schowac ego do kieszeni - przyjmowac krytyke

1. Jeli nie ma dobrze ustawionych linter贸w i tego typu rzeczy, no to podstawowo sprawdzanie ich rcznie.
2. Konwencje nazewnicze - czy jest sp贸jne z projektem.
3. Prostota i czytelno kodu - czy musz "dugo kmini" o co chodzi w kodzie; jeli tak, to staram si zaproponowa co prostszego.
4. Security - czy nie ma jaki problem贸w bezpieczestwa na pierwszy rzut oka.
5. Poprawno korzystania z kodu ju偶 istniejcego - czy dany kod duplikuje inny, czy s re-u偶ywane metody poprawne metody
6. Poprawno danych - jeli kod ma jakie dzikie zale偶noci, prerequisites, to sprawdzam, czy nie s one zamane
7. Edge cases - sprawdzam, czy edge cases s ogarnite, a jak nie, to czy w og贸le mo偶e do nich doj
8. Chwalonko - jak widz co ekstra, to pisz czasem "wow, this is great!" - mio dla osoby sprawdzanej, a u mnie adunek emocjonalny pozwoli na zapamitanie i zastosowanie tego czego w przyszoci 
9. Konsekwencja - jeli przywalam si do rzeczy X, to nie odpuszczam.
10. Re-walidacja - po zaadresowaniu poprawek, sprawdzam, czy nie wjechay nowe, sprawdzajc cay PR jeszcze raz (chyba, 偶e mi si nie chce, to patrz tylko na commit poprawkowy xD)
