---
title: 'GraphQL - podstawy'
category: 'GraphQL'
publishedAt: '23-07-2020'
isPublished: true
popular: false
image: '/images/graphql-podstawy/graphql-podstawy.png'
excerpt: 'GraphQL jest jzykiem zapyta, kt贸ry stanowi alternatyw do standardowego RESTa. Jest bardziej elastyczny, precyzyjny i przede wszystkim wygodniejszy.'
---

GraphQL jest **jzykiem zapyta**, kt贸ry stanowi alternatyw do standardowego RESTa. Jest bardziej elastyczny, precyzyjny i przede wszystkim **wygodniejszy**. Chocia偶 goci on ju偶 jaki czas na rynku, **zyskuje** bardzo na popularnoci. Korzystaj z niego takie giganty jak **Facebook**, PayPal i Twitter.

## Dlaczego GraphQL?

Wspomniaem wczeniej o tym, 偶e GraphQL jest bardziej elastyczny, precyzyjny i wygodniejszy, ale 偶eby nie by goosownym sp贸jrzmy na przykad. Mamy tu API, kt贸re zwraca tam **informacje o postaciach**. Za贸偶my, 偶e w wersji desktopowej bdziemy potrzebowali wszystkich informacji, natomiast w wersji mobilnej, **tylko tych niezbdnych**. W przypadku standardowego REST albo pobieramy wszystkie dane a nastpnie je filtrujemy, co nie jest oczywicie dobrym rozwizaniem, albo tworzymy dwa endpointy.

<Image src="/images/graphql-podstawy/GraphQLvsRest.png" alt="" />

Tak wygldaj dane, kt贸re chcemy dosta w **wersji desktopowej**. Pobieramy tutaj nazw, id, status i pochodzenie.

```
GET /characters/result/1
[
   {
     "name": "Rick Sanchez",
     "id": "1",
     "status": "Alive",
     "origin": {
        "name": "Earth (C-137)"
     }
   }
]
```

Powiedzmy, 偶e w w **wersji mobilnej** bdziemy potrzebowa **tylko id i nazwy** danej postaci, wtedy nasz endpoint bdzie wyglda tak:

```
GET /characters/result/1?fields=name,id
[
   {
     "name": "Rick Sanchez",
     "id": "1",
   }
]
```

W GraphQLu nie mamy takich problem贸w, korzystamy **tylko z jednego endpointa** i wybieramy jakie dane chcemy pobiera.

```graphql
{
  characters {
    results {
      name
      id
      status
      origin {
        name
      }
    }
  }
}
```

## GraphQL w praktyce

呕eby zrozumie jak dziaa GraphQL najlepiej jest si nim pobawi, dlatego skorzystamy z [The Rick and Morty API](https://rickandmortyapi.com/), kt贸re udostpnia nam informacje ze wietnego serialu **Rick and Morty**, jeli jeszcze nie widziae, koniecznie musisz go nadrobi 

Po przejciu na stron [https://rickandmortyapi.com/graphql/](https://rickandmortyapi.com/graphql/), zobaczymy playground, w kt贸rym mo偶emy si pobawi i sprawdzi jakie dane s dostpne.

<Image src="/images/graphql-podstawy/grapqhl-playground-blank.png" alt="" />

Jeli wciniesz teraz _play_, zobaczysz po prawej stronie zwykego JSONa, takie wanie dane dostaniemy w odpowiedzi.

Za pomoc `Shift + Spacja` mo偶esz podejrze, jakie dane s jeszcze dostpne.

Po prawej stronie mamy jeszcze dwa przyciski `DOCS` i `SCHEMA`. W `DOCS` znajdziesz informacje o dostpnych danych, typach, argumentach do zapyta, mutacjach i tak na prawd wszystkim czego potrzebujesz. `SCHEMA` za to, przedstawia, jak sama nazwa m贸wi, schemat naszych danych, jest on napisany w **schema definition language**. GraphQL jest **silnie typowany**, w schemie znajdziesz typy swoich danych.

Musimy pamita, 偶e GraphQL mo偶emy wykorzysta na backendzie, jak i na froncie, my skupimy si oczywicie na stronie frontendowej.

## Query

S to zapytania, dokadnie takie jakie przed chwil moge zobaczy w playgroundzie. Mo偶emy tutaj tworzy aliasy, podawa argumenty i filtrowa nasze dane. Zapytanie poprzedza specjalne sowo `query`.

```
query {
  characters {
    results {
      name
      id
    }
  }
}
```

## Mutation

Przeciwiestwo zapyta, zamiast pobiera dane, wysyamy je na serwer. Do tworzenia mutacji u偶ywamy sowa `mutation`.

```
mutation {
  addCharacter(id: 1, name: "Olaf") {
    name
  }
}
```

## Schema

W schematach opisujemy i typujemy nasze dane za pomoc **SDL**(schema definition language).

```
type Character {
  id: ID
  name: String
  status: String
  origin: Location
}
```

## Resolvers

Resolvery s cile powizane z schematami, s one funkcjami, kt贸re zwracaj warto dla danego typu/pola.

## Podsumowanie

Dziki za obecno, tym wpisem **zaczynamy mini seri** o GraphQLu!

Za tydzie om贸wimy szczeg贸owo dane koncepty 

Do usyszenia!

### 殴r贸da

- [GraphQL Docs](https://graphql.org/)
- [The Rick and Morty API](https://rickandmortyapi.com/)
