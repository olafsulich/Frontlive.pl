---
title: 'Antywzorce w CSS - 10 najczÄ™Å›ciej popeÅ‚nianych bÅ‚Ä™dÃ³w'
category: 'CSS'
publishedAt: '20-12-2021'
isPublished: true
popular: false
image: '/images/antywzorce-css/thumbnail.png'
excerpt: 'Mimo tego Å¼e CSS nie jest jÄ™zykiem programowania, to czÄ™sto Frotnend Developerzy popeÅ‚niajÄ… w nim te same bÅ‚Ä™dy...'
---

Mimo tego, Å¼e CSS nie jest jÄ™zykiem programowania, to czÄ™sto Frotnend Developerzy popeÅ‚niajÄ… w nim te same bÅ‚Ä™dy. ZebraÅ‚em je w caÅ‚oÅ›Ä‡ i stworzyÅ‚em listÄ™ AntywzorcÃ³w w CSS, czyli najczÄ™Å›ciej popeÅ‚nianych bÅ‚Ä™dÃ³w poczÄ…tkujÄ…cych i nie tylko ğŸ˜‰

## Stylowanie po id i tagach

Stylowanie po id i tagach to zdecydowanie najczÄ™Å›ciej popeÅ‚niany bÅ‚Ä…d ğŸ˜± Co w tym takiego strasznego? Pisanie w ten sposÃ³b znaczÄ…co **zwiÄ™ksza specyficznoÅ›Ä‡** przez co style stajÄ… siÄ™ ciÄ™Å¼sze w utrzymaniu i ponownym wykorzystaniu.

<Highlight variant="error" title="Å¹le  ğŸ’©">

```html
<body>
  <div id="box">
    <span class="text">Hello world</span>
  </div>
</body>
```

JakÄ… wielkoÅ›Ä‡ bÄ™dzie miaÅ‚ nasz tekst? SpodziwalibyÅ›my siÄ™, Å¼e ostatnia z deklaracji bÄ™dzie tÄ… wÅ‚aÅ›ciwÄ…, niestety wynik jest inny:

```css
span {
  font-size: 10px;
}

body div span {
  font-size: 12px;
}

#box span {
  font-size: 14px; /* ğŸ‘ˆ  wybrane style, najwiÄ™ksza specyficznoÅ›Ä‡ */
}

span.text {
  font-size: 18px; /* âŒ  klasa nie zostaÅ‚a nadpisana, zbyt maÅ‚a specyficznoÅ›Ä‡ */
}
```

Poza psuciem specyficznoÅ›ci, stylowanie za pomocÄ… kombinacji tagÃ³w `body div span` staje siÄ™Â coraz mniej czytalne, a gdy dodamy do tego id i klasy, to robi nam siÄ™ maÅ‚e nazewnicze piekieÅ‚ko ğŸ”¥

</Highlight>

Jak to naprawiÄ‡? W naszych stylach chcemy zachowaÄ‡ jak najbardziej pÅ‚askÄ… specyficznoÅ›Ä‡, dlatego najlepiej korzystaÄ‡ po prostu z klas:

<Highlight variant="success" title="Dobrze  âœ…">

```css
.text {
  font-size: 10px;
}

.text--big {
  font-size: 18px; /* ğŸ‘ˆ  style zostaÅ‚y nadpisane, bo klasa "text--big" jest zadeklarowana pod "text" */
}
```

</Highlight>

<Highlight variant="info" title="WyjÄ…tki ğŸ¤”">

Stylowanie po tagach **nie zawsze** jest zÅ‚e. IstniejÄ…Â tagi, dla ktÃ³rych chcemy mieÄ‡ konkretnie style, ktÃ³re nie bÄ™dÄ…Â siÄ™Â zmieniaÄ‡. PrzykÅ‚adem tego moÅ¼e byÄ‡ `html`/`body` czy wykonywanie tzw. _normalize_.

```css
*,
*::before,
*::after {
  box-sizing: border-box;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
}
```

</Highlight>

## Inline style i !important

DokÅ‚adnie z tych samych powodÃ³w powinniÅ›my unikaÄ‡ tzw. _inline styles_ oraz deklaracji `!important`. NajczÄ™Å›ciej zdarza mi siÄ™Â obserwowaÄ‡ uÅ¼ycie inline styles przy zmianie wartoÅ›ci za pomocÄ… JavaScript lub po prostu w HTML, bo chcemy zmieniÄ‡ tylko jednÄ…Â wÅ‚aÅ›ciwoÅ›Ä‡. UÅ¼ycie `!important` za to jest czÄ™sto poprawkÄ…Â na nasze wÅ‚asne bÅ‚Ä™dy spowodowane zbyt wysokÄ…Â specyficznoÅ›ciÄ…Â w stylach.

<Highlight variant="error" title="Å¹le  ğŸ’©">

```js
element.styles.fontSize = '14px';
```

```html
<span style="font-size: 14px" class="text text--big">Hello world</span>
```

```css
.text--big {
  font-size: 18px !important;
}
```

</Highlight>

Jak to naprawiÄ‡? Ponownie, wystarczy dodaÄ‡ odpowieniÄ…Â klasÄ™:

<Highlight variant="success" title="Dobrze  âœ…">

```js
element.classList.add('text--big');
```

```html
<span class="text text--big">Hello world</span>
```

```css
.text--big {
  font-size: 18px;
}
```

</Highlight>

<Highlight variant="info" title="WyjÄ…tki ğŸ¤”">

Od kaÅ¼ej reguÅ‚y sÄ… jakieÅ› wyjÄ…tki, nie inaczej jest w tym przypadku. _Inline styles_ przydajÄ… siÄ™,Â gdy musimy nadaÄ‡ wartoÅ›Ä‡, ktÃ³ra jest w pewien sposÃ³b dynamiczna:

```js
element.style.fontSize = `${someRandomValue}px`;
```

</Highlight>

## NiezarzÄ…dzanie z-index

Nadajesz elementowi `z-index`, nie dziaÅ‚a, zwiÄ™kszasz wartoÅ›Ä‡, nie dziaÅ‚a, dajesz `999999999` - dziaÅ‚a! Za miesiÄ…c wracasz do tego kodu, prÃ³bujesz dodaÄ‡ nowy modal, ktÃ³ry potrzebuje mieÄ‡ najwiÄ™kszy `z-index` w projekcie i sytuacja siÄ™Â powtarza... Znasz ten bÃ³l? Ja tak, `z-index` w CSS napsuÅ‚ mi sporo krwi, nawet czasem mam wraÅ¼enie, Å¼e wiÄ™ksze wartoÅ›ci nie przynoszÄ… poÅ¼Ä…danego efektu, czy to w ogÃ³le moÅ¼liwe? OkazujÄ™Â siÄ™, Å¼e [jak najbardziej](https://www.joshwcomeau.com/css/stacking-contexts/), dlatego tak waÅ¼ne jest zadbanie o porzÄ…dek w `z-index` w projekcie.

<Highlight variant="error" title="Å¹le  ğŸ’©">

```css
.box {
  z-index: 999;
}

.popup {
  z-index: 9999;
}

.modal {
  z-index: 99999;
}
```

</Highlight>

Do zarzÄ…dzania `z-index` przydadzÄ… nam siÄ™Â [zmienne CSS](https://frontlive.pl/blog/css-variables), to dziÄ™ki nim bÄ™dzie mogli uporzÄ…dkowaÄ‡ i przede wszystkim odpowiednio nazwaÄ‡ poszczegÃ³lne indexy. W `:root` deklarujemy zmienne z odpowienimi nazwami:

<Highlight variant="success" title="Dobrze  âœ…">

```css
:root {
  --z-index-box: 1000;
  --z-index-popup: 1100;
  --z-index-modal: 1200;
}

.box {
  z-index: var(--z-index-box);
}

.popup {
  z-index: var(--z-index-popup);
}

.modal {
  z-index: var(--z-index-modal);
}
```

</Highlight>

<Newsletter />

## Ogarnij swoje kolory

A co z kolorami? W jakim formacie najlepiej je podawaÄ‡? Hex, Hsla, Rgb?

<Highlight variant="error" title="Å¹le  ğŸ’©">

```css
.box {
  background-color: #eb4034;
}

.modal {
  background-color: rgb(52, 222, 235);
}

.header {
  background-color: hsl(266, 85%, 53%);
}
```

</Highlight>

WedÅ‚ug mnie sam format nie jest aÅ¼ tak istotny, najwaÅ¼niejsze jest aby ponownie **korzystaÄ‡ ze zmiennych** oraz z takich samych formatÃ³w. Wykorzystanie zmiennych daje nam moÅ¼liwoÅ›Ä‡ skorzystania z koloru ponownie, a ten sam format to pewna forma konsekwencji w kodzie:

<Highlight variant="success" title="Dobrze  âœ…">

```css
:root {
  --color-orange: rgb(235, 64, 52);
  --color-blue: rgb(52, 222, 235);
  --color-purple: rgb(122, 33, 237);
}

.box {
  background-color: var(--color-orange);
}

.modal {
  background-color: var(--color-blue);
}

.header {
  background-color: var(--color-purple);
}
```

</Highlight>

## Magiczne wartoÅ›ci

Mam dla Ciebie jeszcze jeden Å›wietny przykÅ‚ad wykorzystania zmiennych. ZaÅ‚Ã³Å¼my, Å¼e nasz element pozycjonujemy absolutnie i chcemy mu nadaÄ‡ wÅ‚aÅ›ciwoÅ›Ä‡ `top`:

<Highlight variant="error" title="Å¹le  ğŸ’©">

SkÄ…d siÄ™ wziÄ™Å‚y te wartoÅ›ci?

Dlaczego zamiast `50px` nie moÅ¼e byÄ‡ `30px`?

Czemu ktoÅ›Â po prostu nie wpisaÅ‚ `200px`?

```css
.box {
  position: absolute;
  top: calc(50px + 144px + 6px);
}
```

</Highlight>

DoÅ›Ä‡ popularny bÅ‚Ä…d, czyli tzw. _magic numbers_. WystÄ™pujÄ… one najczÄ™Å›ciej w jÄ™zykach programowania, ale CSS jak najbardziej ma ich odpowiedniki. Bardzo czÄ™sto spotykaÅ‚em siÄ™Â z sytuacjami, gdzie ktoÅ› zadeklarowaÅ‚ jakÄ…Å› szalonÄ… wartoÅ›Ä‡ typu `43.54%` i teraz domyÅ›lÂ siÄ™Â o co w tym chodzi! Zmienne znowu przychodzÄ… z pomocÄ…, nie musimy ich nawet deklarowaÄ‡ globalnie w `:root`, wystarczy to zrobiÄ‡ na poziomie bloku:

<Highlight variant="success" title="Dobrze  âœ…">

```css
.box {
  --offset: 50px;
  --header-height: 144px;
  --header-margin-bottom: 6px;
  position: absolute;
  top: calc(var(--offset) + var(--header-height) + var(--header-margin-bottom));
}
```

</Highlight>

## NieuÅ¼ywanie konwencji nazewniczej

Trzymanie siÄ™Â pewnych zaÅ‚oÅ¼eÅ„, konwencji w kodzie to bardzo waÅ¼na rzecz, nie tylko pod wzglÄ™dem technologicznym, ale rÃ³wnieÅ¼ zespoÅ‚owym. Nie warto traciÄ‡ czasu na sprzeczanie siÄ™, czy lepszÄ… nazwÄ… klasy jest `.box-text`, czy `.box_text`. DziÄ™ki takiej pewnej niekonsekwncji my sami po czasie moÅ¼emy siÄ™Â pogubiÄ‡ jak tak naprawdÄ™Â powinniÅ›my pisaÄ‡ w naszym projekcie.

<Highlight variant="error" title="Å¹le  ğŸ’©">

```css
.box__button {
}

.boxHeading {
}

.box-text {
}
```

</Highlight>

Zamiast uÅ¼ywaÄ‡ rÃ³Å¼nych wariacji klas, warto spojrzeÄ‡ chociaÅ¼by na BEM, ktÃ³ry narzuca nam sposÃ³b nazewnictwa klas w CSS:

<Highlight variant="success" title="Dobrze  âœ…">

```css
.box__heading {
}

.box__button {
}

.boxt__text {
}
```

</Highlight>

## Powtarzanie siÄ™

_Don't repeat yourself_, czyli ulubiona zasada programistÃ³w sprawdza siÄ™Â rÃ³wnieÅ¼ w CSS. Gdy mamy wspÃ³lne style dla np. dwÃ³ch zwiÄ…zanych ze sobÄ… klas, moÅ¼emy je zamknÄ…Ä‡ w jednym bloku. Idealnym przykÅ‚adem tego sÄ… pseudoelementy `::before` i `::after`:

<Highlight variant="error" title="Å¹le  ğŸ’©">

```css
.box::before {
  content: '';
  width: 24px;
  height: 24px;
  color: var(--color-red);
}

.box::after {
  content: '';
  width: 24px;
  height: 24px;
  color: var(--color-blue);
}
```

</Highlight>

<Highlight variant="success" title="Dobrze  âœ…">

```css
.box::before,
.box::after {
  content: '';
  width: 24px;
  height: 24px;
}

.box::before {
  color: var(--color-red);
}

.box::after {
  color: var(--color-blue);
}
```

</Highlight>

## Niekorzystanie ze skrÃ³tÃ³w

A czemu by nie napisaÄ‡ tego krÃ³cej?

<Highlight variant="error" title="Å¹le  ğŸ’©">

```css
.box {
  background-position: center;
  background-repeat: no-repeat;
  background-image: url('logo.svg');

  border-color: var(--color-blue);
  border-style: solid;
  border-width: 2px;
}
```

</Highlight>

<Highlight variant="success" title="Dobrze  âœ…">

```css
.box {
  background: center no-repeat url('logo.svg');
  border: 2px solid var(--color-blue);
}
```

</Highlight>

## Zaburzanie kolejnoÅ›ci elementÃ³w

Podczas korzystania z flexboxa i grida mamy moÅ¼liwoÅ›Ä‡ zmieniania kolejnoÅ›ci elementÃ³w w kontenerze. O ile moÅ¼e byÄ‡ to czasem przydatne, to najczÄ™Å›ciej nie jest to dobrÄ…Â praktykÄ…. ZaÅ‚Ã³Å¼my, Å¼e mamy kontener, a w nim piÄ™Ä‡ elementÃ³w, jeÅ›li w kontenerze ustawimy wÅ‚aÅ›ciwoÅ›Ä‡ `flex-direction` na `row-reverse`, to elementy zostanÄ…Â wyÅ›wietlone w odwrotnej kolejnoÅ›ci. Zmienienie kolejnoÅ›ci w CSS nie spowoduje jednak przemieszczenia siÄ™Â elementÃ³w w strukturze HTML, a ten potrzebny jest dla czytnikÃ³w ekranowych. Dla uÅ¼ytkownikÃ³w czytnikÃ³w moÅ¼e byÄ‡ to doÅ›Ä‡ frustrujÄ…ce, gdy bÄ™dÄ… przemieszczali siÄ™Â po elementach w zÅ‚ej kolejnoÅ›ci. JeÅ›li checesz zmieniaÄ‡ kolejnoÅ›Ä‡, zrÃ³b to w HTML:

<Highlight variant="error" title="Å¹le  ğŸ’©">

```html
<div class="wrapper">
  <div>1</div>
  <div>2</div>
  <div>3</div>
  <div>4</div>
  <div>5</div>
</div>
```

```css
.wrapper {
  display: flex;
  flex-direction: row-reverse;
}
```

</Highlight>

<Highlight variant="success" title="Dobrze  âœ…">

```html
<div class="wrapper">
  <div>5</div>
  <div>4</div>
  <div>3</div>
  <div>2</div>
  <div>1</div>
</div>
```

```css
.wrapper {
  display: flex;
}
```

</Highlight>

## Usuwanie outline

JednÄ…Â z najwiÄ™kszych bolÄ…czek zwiÄ…zanych z _accessibility_ na stronach internetowych jest brak wizualnego wskaÅºnika `outline` dla elementÃ³w interaktywnych, takich jak np. _link_. Bardzo czÄ™sto usuwamy `outline`, bo nie podoba nam siÄ™Â jej wyglÄ…d, ale niesie to za sobÄ… powaÅ¼ne konsekwencje. UÅ¼ytkownicy, ktÃ³rzy korzystajÄ…Â tylko z klawiatury do poruszania siÄ™Â na stronie, nie bÄ™dÄ… widzieli na jakim dokÅ‚adnie elemencie siÄ™Â znajdujÄ…...

<Highlight variant="error" title="Å¹le  ğŸ’©">

```css
.link:focus {
  outline: none;
}
```

</Highlight>

RozwiÄ…zaniem tego problemu jest ostylowanie ouline lub zapewnienie innych styli, ktÃ³re posÅ‚uÅ¼Ä… nam za taki wizualny wskaÅºnik. PamiÄ™taj, aby nie korzystaÄ‡ tutaj z samych kolorÃ³w, niektÃ³rzy uÅ¼ytkownicy mogÄ… ich nie rozrÃ³Å¼niaÄ‡:

<Highlight variant="success" title="Dobrze  âœ…">

```css
.link:focus {
  outline: thin dotted;
  /* LUB */
  outline: none;
  border-bottom: 2px solid var(--color-black);
  color: var(--color-gray);
}
```

</Highlight>

## Podsumowanie

To by byÅ‚o na tyle, jeÅ›li chodzi o najczÄ™Å›ciej popeÅ‚niane bÅ‚Ä™dy w CSS. Lista jest jak najbardziej subiektywna, wynika z tego, co udaÅ‚o mi siÄ™Â zaobserwowaÄ‡ podczas _code review_ :)

Do usÅ‚yszenia!
